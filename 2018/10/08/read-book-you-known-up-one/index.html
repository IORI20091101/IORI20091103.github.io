<!DOCTYPE html><html lang="zh-CN"><head><!-- hexo injector head_begin start --><link href="https://cdn.jsdelivr.net/npm/hexo-tag-common@latest/css/index.css" rel="stylesheet"/><!-- hexo injector head_begin end --><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="å¤šå¼—æœ—æ˜å“¥"><meta name="copyright" content="å¤šå¼—æœ—æ˜å“¥"><meta name="generator" content="Hexo 5.4.0"><meta name="theme" content="hexo-theme-yun"><title>ä½ ä¸çŸ¥é“çš„JavaScriptä¸Šå· | å”å‰è¯ƒå¾·çš„å°ç«™</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.25/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_dxory92pb0h.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>function initScrollReveal() {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
}
document.addEventListener("DOMContentLoaded", initScrollReveal);
document.addEventListener("pjax:success", initScrollReveal);
</script><link rel="icon" href="https://cdn.darknights.cn/assets/images/favicon.ico"><link rel="mask-icon" href="https://cdn.darknights.cn/assets/images/favicon.ico" color="#0078E7"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"sdongzhi.com","root":"/","title":"å”å‰è¯ƒå¾·çš„å°ç«™","version":"1.6.2","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"æœç´¢...","empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹: ${query}","hits":"æ‰¾åˆ° ${hits} æ¡ç»“æœ","hits_time":"æ‰¾åˆ° ${hits} æ¡ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://el-bot-api.vercel.app/api/words/young"},"algolia":{"appID":"ZH3RNMJ8TX","apiKey":"d3c4e9cb3d4b25b901414d257a20d970","indexName":"Pages","hits":{"per_page":8}},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><link rel="alternate" href="/atom.xml" title="å”å‰è¯ƒå¾·çš„å°ç«™" type="application/atom+xml"><link rel="stylesheet" href="/styles/custom.css"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin><script async src="https://www.googletagmanager.com/gtag/js?id=UA-107257239-1"></script><script>if (CONFIG.hostname === location.hostname) {
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-107257239-1');
}</script><script data-ad-client="ca-pub-2245427233262012" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(function(){
  var bp = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  if (curProtocol === 'https') {
    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else {
    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(bp, s);
})();</script><!-- Google Tag Manager --><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-M9KWR9L');</script><!-- End Google Tag Manager --><meta name="description" content="æœ¬ä¹¦æ˜¯è¯»å®Œ Effective JavaScriptä¹‹åå¼€çš„è¿›è¡Œçš„é˜…è¯»ï¼Œæ•´ç†è‡ªå·±éœ€è¦æ³¨æ„çš„ç‚¹ã€‚æ–¹ä¾¿ä»¥åå·©å›ºã€‚ ä½œç”¨åŸŸJavaScriptæ²¡æœ‰å—çº§ä½œç”¨åŸŸçš„ç›¸å…³åŠŸèƒ½ã€‚ä½†æ˜¯ä½¿ç”¨withã€try...catchå¯ä»¥åˆ›å»ºå—çº§ä½œç”¨åŸŸ å˜é‡æå‡æå‡æ—¶å‡½æ•°ä¼˜å…ˆ 12345678910111213foo();var foo;foo &#x3D; function() &amp;#123;  console.log(2);&amp;#125;">
<meta property="og:type" content="article">
<meta property="og:title" content="ä½ ä¸çŸ¥é“çš„JavaScriptä¸Šå·">
<meta property="og:url" content="https://sdongzhi.com/2018/10/08/read-book-you-known-up-one/index.html">
<meta property="og:site_name" content="å”å‰è¯ƒå¾·çš„å°ç«™">
<meta property="og:description" content="æœ¬ä¹¦æ˜¯è¯»å®Œ Effective JavaScriptä¹‹åå¼€çš„è¿›è¡Œçš„é˜…è¯»ï¼Œæ•´ç†è‡ªå·±éœ€è¦æ³¨æ„çš„ç‚¹ã€‚æ–¹ä¾¿ä»¥åå·©å›ºã€‚ ä½œç”¨åŸŸJavaScriptæ²¡æœ‰å—çº§ä½œç”¨åŸŸçš„ç›¸å…³åŠŸèƒ½ã€‚ä½†æ˜¯ä½¿ç”¨withã€try...catchå¯ä»¥åˆ›å»ºå—çº§ä½œç”¨åŸŸ å˜é‡æå‡æå‡æ—¶å‡½æ•°ä¼˜å…ˆ 12345678910111213foo();var foo;foo &#x3D; function() &amp;#123;  console.log(2);&amp;#125;">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2018-10-08T00:00:00.000Z">
<meta property="article:modified_time" content="2021-09-26T10:00:04.352Z">
<meta property="article:author" content="å¤šå¼—æœ—æ˜å“¥">
<meta property="article:tag" content="javascript">
<meta property="article:tag" content="è¯»ä¹¦æ€»ç»“">
<meta name="twitter:card" content="summary"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="æ–‡ç« ç›®å½•"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="ç«™ç‚¹æ¦‚è§ˆ"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="å¤šå¼—æœ—æ˜å“¥"><img width="96" loading="lazy" src="/images/avatar.jpeg" alt="å¤šå¼—æœ—æ˜å“¥"><span class="site-author-status" title="Looking for dawn.">ğŸŒ‘</span></a><div class="site-author-name"><a href="/about/">å¤šå¼—æœ—æ˜å“¥</a></div><a class="site-name" href="/about/site.html">å”å‰è¯ƒå¾·çš„å°ç«™</a><sub class="site-subtitle"></sub><div class="site-desciption"></div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="é¦–é¡µ"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="å½’æ¡£"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">54</span></a></div><div class="site-state-item"><a href="/categories/" title="åˆ†ç±»"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">19</span></a></div><div class="site-state-item"><a href="/tags/" title="æ ‡ç­¾"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">36</span></a></div><a class="site-state-item hty-icon-button" href="/about/#comment" title="ç•™è¨€æ¿"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-clipboard-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="/atom.xml" title="RSS" target="_blank" style="color:orange"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-rss-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/IORI20091101" title="GitHub" target="_blank" style="color:#6e5494"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://twitter.com/iori20091101" title="Twitter" target="_blank" style="color:#1da1f2"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-twitter-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://t.me/donduffy" title="Telegram Channel" target="_blank" style="color:#0088CC"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-telegram-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:sdzzlyjy@gmail.com" title="E-Mail" target="_blank" style="color:#8E71C1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://travellings.link" title="Travelling" target="_blank" style="color:var(--hty-text-color)"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-train-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">1.</span> <span class="toc-text">ä½œç”¨åŸŸ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E6%8F%90%E5%8D%87"><span class="toc-number">2.</span> <span class="toc-text">å˜é‡æå‡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%97%AD%E5%8C%85"><span class="toc-number">3.</span> <span class="toc-text">ä½œç”¨åŸŸé—­åŒ…</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">4.</span> <span class="toc-text">åŠ¨æ€ä½œç”¨åŸŸ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9D%97%E7%BA%A7%E4%BD%9C%E7%94%A8%E5%9F%9F%E7%9A%84%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88"><span class="toc-number">5.</span> <span class="toc-text">å—çº§ä½œç”¨åŸŸçš„æ›¿ä»£æ–¹æ¡ˆ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E4%BA%8Ethis"><span class="toc-number">6.</span> <span class="toc-text">å…³äºthis</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#this%E7%9A%84%E7%BB%91%E5%AE%9A%E8%A7%84%E5%88%99"><span class="toc-number">7.</span> <span class="toc-text">thisçš„ç»‘å®šè§„åˆ™</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E7%BB%91%E5%AE%9A"><span class="toc-number">7.1.</span> <span class="toc-text">é»˜è®¤ç»‘å®š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9A%90%E5%BC%8F%E7%BB%91%E5%AE%9A"><span class="toc-number">7.2.</span> <span class="toc-text">éšå¼ç»‘å®š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E7%BB%91%E5%AE%9A"><span class="toc-number">7.3.</span> <span class="toc-text">æ˜¾ç¤ºç»‘å®š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#new%E7%BB%91%E5%AE%9A"><span class="toc-number">7.4.</span> <span class="toc-text">newç»‘å®š</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-number">8.</span> <span class="toc-text">ä¼˜å…ˆçº§</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A4%E6%96%ADthis"><span class="toc-number">9.</span> <span class="toc-text">åˆ¤æ–­this</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A2%AB%E5%BF%BD%E7%95%A5%E7%9A%84this"><span class="toc-number">10.</span> <span class="toc-text">è¢«å¿½ç•¥çš„this</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%97%B4%E6%8E%A5%E5%BC%95%E7%94%A8"><span class="toc-number">11.</span> <span class="toc-text">é—´æ¥å¼•ç”¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#this%E8%AF%8D%E6%B3%95"><span class="toc-number">12.</span> <span class="toc-text">thisè¯æ³•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1"><span class="toc-number">13.</span> <span class="toc-text">å¯¹è±¡</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E5%A4%8D%E5%88%B6"><span class="toc-number">13.1.</span> <span class="toc-text">å¯¹è±¡å¤åˆ¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E6%8F%8F%E8%BF%B0%E7%AC%A6"><span class="toc-number">13.2.</span> <span class="toc-text">å±æ€§æè¿°ç¬¦</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E5%B8%B8%E9%87%8F"><span class="toc-number">13.3.</span> <span class="toc-text">å¯¹è±¡å¸¸é‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A6%81%E6%AD%A2%E6%89%A9%E5%B1%95"><span class="toc-number">13.4.</span> <span class="toc-text">ç¦æ­¢æ‰©å±•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%86%E5%B0%81"><span class="toc-number">13.5.</span> <span class="toc-text">å¯†å°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%BB%E7%BB%93"><span class="toc-number">13.6.</span> <span class="toc-text">å†»ç»“</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Getter%E5%92%8CSetter"><span class="toc-number">13.7.</span> <span class="toc-text">Getterå’ŒSetter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%98%E5%9C%A8%E6%80%A7"><span class="toc-number">13.8.</span> <span class="toc-text">å­˜åœ¨æ€§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%8D%E5%8E%86"><span class="toc-number">13.9.</span> <span class="toc-text">éå†</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8E%9F%E5%9E%8B%E9%A3%8E%E6%A0%BC%E7%BB%A7%E6%89%BF"><span class="toc-number">14.</span> <span class="toc-text">åŸå‹é£æ ¼ç»§æ‰¿</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A7%94%E6%89%98"><span class="toc-number">15.</span> <span class="toc-text">å§”æ‰˜</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9B%B4%E7%AE%80%E6%B4%81%E7%9A%84%E8%AE%BE%E8%AE%A1"><span class="toc-number">16.</span> <span class="toc-text">æ›´ç®€æ´çš„è®¾è®¡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%8D%E8%AF%8D%E6%B3%95"><span class="toc-number">17.</span> <span class="toc-text">åè¯æ³•</span></a></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://sdongzhi.com/2018/10/08/read-book-you-known-up-one/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="å¤šå¼—æœ—æ˜å“¥"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="å”å‰è¯ƒå¾·çš„å°ç«™"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">ä½ ä¸çŸ¥é“çš„JavaScriptä¸Šå·<a class="post-edit-link" href="https://github.com/YunYouJun/yunyoujun.github.io/tree/hexo/source/_posts/read-book-you-known-up-one.md" target="_blank" title="ç¼–è¾‘" rel="noopener"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-edit-line"></use></svg></a></h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="åˆ›å»ºæ—¶é—´ï¼š2018-10-08 00:00:00" itemprop="dateCreated datePublished" datetime="2018-10-08T00:00:00+00:00">2018-10-08</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-09-26 10:00:04" itemprop="dateModified" datetime="2021-09-26T10:00:04+00:00">2021-09-26</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="æœ¬æ–‡å­—æ•°"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-file-word-line"></use></svg></span> <span title="æœ¬æ–‡å­—æ•°">5.1k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="é˜…è¯»æ—¶é•¿"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-timer-line"></use></svg></span> <span title="é˜…è¯»æ—¶é•¿">22m</span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E8%AF%BB%E4%B9%A6%E6%80%BB%E7%BB%93/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">è¯»ä¹¦æ€»ç»“</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/javascript/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">javascript</span></a><a class="tag-item" href="/tags/%E8%AF%BB%E4%B9%A6%E6%80%BB%E7%BB%93/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">è¯»ä¹¦æ€»ç»“</span></a></span></div><div class="post-author"><span class="author-name">toshiba</span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#0078E7;"><p>æœ¬ä¹¦æ˜¯è¯»å®Œ Effective JavaScriptä¹‹åå¼€çš„è¿›è¡Œçš„é˜…è¯»ï¼Œæ•´ç†è‡ªå·±éœ€è¦æ³¨æ„çš„ç‚¹ã€‚æ–¹ä¾¿ä»¥åå·©å›ºã€‚</p>
<h2 id="ä½œç”¨åŸŸ"><a href="#ä½œç”¨åŸŸ" class="headerlink" title="ä½œç”¨åŸŸ"></a>ä½œç”¨åŸŸ</h2><p>JavaScriptæ²¡æœ‰å—çº§ä½œç”¨åŸŸçš„ç›¸å…³åŠŸèƒ½ã€‚ä½†æ˜¯ä½¿ç”¨<code>with</code>ã€<code>try...catch</code>å¯ä»¥åˆ›å»ºå—çº§ä½œç”¨åŸŸ</p>
<h2 id="å˜é‡æå‡"><a href="#å˜é‡æå‡" class="headerlink" title="å˜é‡æå‡"></a>å˜é‡æå‡</h2><p>æå‡æ—¶å‡½æ•°ä¼˜å…ˆ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">foo();</span><br><span class="line"></span><br><span class="line">var foo;</span><br><span class="line"></span><br><span class="line">foo = function() &#123;</span><br><span class="line">  console.log(2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">function foo() &#123;</span><br><span class="line">  console.log(1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>è¾“å…¥ç»“æœæ˜¯1ï¼Œå‡½æ•°å£°æ˜ä¼˜å…ˆï¼ŒåŒåçš„varå˜é‡ä¼šè¢«å¿½ç•¥ï¼Œä½†æ˜¯åé¢çš„é‡æ–°èµ‹å€¼ä»ç„¶æœ‰æ•ˆï¼Œç¬¬äºŒæ¬¡æ‰§è¡Œfooå¾—åˆ°çš„ç»“æœå°±æ˜¯2äº†ã€‚</p>
<h2 id="ä½œç”¨åŸŸé—­åŒ…"><a href="#ä½œç”¨åŸŸé—­åŒ…" class="headerlink" title="ä½œç”¨åŸŸé—­åŒ…"></a>ä½œç”¨åŸŸé—­åŒ…</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">function foo() &#123;</span><br><span class="line">  var a = 2;</span><br><span class="line"></span><br><span class="line">  function bar() &#123;</span><br><span class="line">    console.log(a);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  bar();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo();</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªæ˜¯é—­åŒ…å—ï¼Ÿ ä»æŠ€æœ¯ä¸Šæ¥è®²ï¼Œä¹Ÿè®¸æ˜¯ã€‚ä½†æ˜¯ç¡®åˆ‡çš„è¯´ä¸æ˜¯ã€‚å‡†ç¡®çš„è¯´bar()å¯¹açš„å¼•ç”¨æ–¹æ³•æ˜¯è¯æ³•ä½œç”¨åŸŸçš„æŸ¥æ‰¾è§„åˆ™ï¼Œè¿™äº›è§„åˆ™åªæ˜¯é—­åŒ…çš„ä¸€éƒ¨åˆ†ã€‚ä½†ç¡®å®æ˜¯éå¸¸é‡è¦çš„ä¸€éƒ¨åˆ†ã€‚</p>
<p>æ¥çœ‹ä¸€ä¸ªæ¸…æ™°çš„é—­åŒ…ä¾‹å­</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">function foo() &#123;</span><br><span class="line">  var a = 2;</span><br><span class="line"></span><br><span class="line">  function bar() &#123;</span><br><span class="line">    console.log(a);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  return bar;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">var baz = foo();</span><br><span class="line"></span><br><span class="line">baz(); // 2  è¿™æ˜¯ä¸€ä¸ªé—­åŒ…çš„æ•ˆæœ</span><br></pre></td></tr></table></figure>
<p>å‡½æ•° bar() çš„è¯æ³•ä½œç”¨åŸŸèƒ½å¤Ÿè®¿é—®foo() çš„å†…éƒ¨ä½œç”¨åŸŸã€‚ç„¶åæˆ‘ä»¬å°†bar()å‡½æ•°æœ¬èº«å½“ä½œä¸€ä¸ªå€¼ç±»å‹è¿›è¡Œä¼ é€’ï¼Œ åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†baræ‰€å¼•ç”¨çš„å‡½æ•°å¯¹è±¡æœ¬èº«å½“ä½œè¿”å›å€¼ã€‚</p>
<h2 id="åŠ¨æ€ä½œç”¨åŸŸ"><a href="#åŠ¨æ€ä½œç”¨åŸŸ" class="headerlink" title="åŠ¨æ€ä½œç”¨åŸŸ"></a>åŠ¨æ€ä½œç”¨åŸŸ</h2><p>JavaScriptåªæœ‰è¯æ³•ä½œç”¨åŸŸï¼Œå¹¶æ²¡æœ‰åŠ¨æ€ä½œç”¨åŸŸ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">function foo() &#123;</span><br><span class="line">  console.log(a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function bar() &#123;</span><br><span class="line">  var a = 3;</span><br><span class="line">  foo();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">var a = 2;</span><br><span class="line"></span><br><span class="line">bar();  // è¾“å‡ºç»“æœä¸º2</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>è¯æ³•ä½œç”¨åŸŸï¼Œè®©fooåœ¨æŸ¥æ‰¾aæ—¶ï¼Œåªåœ¨å…¨å±€ä½œç”¨åŸŸæ‰¾åˆ° <code>var a = 2</code>, æ‰€ä»¥è¿™é‡Œæ˜¾ç¤º2ã€‚ è¿™é‡Œå¯èƒ½ä¼šç–‘æƒ‘ä¸ºä»€ä¹ˆæ²¡æœ‰æ‰¾åˆ°baræ–¹æ³•å†…éƒ¨ï¼Œ å› ä¸ºè¿™é‡Œåªæ˜¯æ‰§è¡Œfooæ–¹æ³•ï¼Œå¦‚æœåƒä¸‹é¢è¿™æ ·å†™ï¼Œæ‰ä¼šè¯»åˆ°a = 3</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">function bar() &#123;</span><br><span class="line">  var a = 3;</span><br><span class="line"></span><br><span class="line">  function foo() &#123;</span><br><span class="line">    console.log(a);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  foo();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">var a = 2;</span><br><span class="line"></span><br><span class="line">bar();</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="å—çº§ä½œç”¨åŸŸçš„æ›¿ä»£æ–¹æ¡ˆ"><a href="#å—çº§ä½œç”¨åŸŸçš„æ›¿ä»£æ–¹æ¡ˆ" class="headerlink" title="å—çº§ä½œç”¨åŸŸçš„æ›¿ä»£æ–¹æ¡ˆ"></a>å—çº§ä½œç”¨åŸŸçš„æ›¿ä»£æ–¹æ¡ˆ</h2><p>ES5ä¹‹å‰å—çº§ä½œç”¨åŸŸçš„è§£å†³æ–¹æ¡ˆcatchæˆ–with</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">try&#123; throw 2 &#125; catch(a)&#123;</span><br><span class="line">  console.log(a);  // 2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(a);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>letä½œç”¨åŸŸæˆ–ç€letå£°æ˜è¿˜å¯ä»¥è¿™æ ·ç”¨</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">let(a = 2) &#123;</span><br><span class="line">  console.log(a); // 2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(a); // ReferenceError</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>ä¸éšå¼çš„åŠ«æŒä¸€ä¸ªå·²ç»å­˜åœ¨çš„ä½œç”¨åŸŸä¸åŒï¼Œ letå£°æ˜ä¼šæ˜¾ç¤ºçš„åˆ›å»ºä¸€ä¸ªä½œç”¨åŸŸå¹¶ä¸å…¶è¿›è¡Œç»‘å®šã€‚æ˜¾ç¤ºä½œç”¨åŸŸä¸ä»…æ›´çªå‡ºï¼Œåœ¨ä»£ç é‡æ„æ—¶ä¹Ÿè¡¨ç°æ›´åŠ å¥å£®ã€‚<br>ä½†æ˜¯ES6è¯­æ³•ä¸åŒ…å«è¿™ä¸ªæˆ‘ä»¬å¯ä»¥é€‰æ‹©ï¼Œåˆæ³•çš„ES6è¯­æ³•ï¼Œ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  let a = 2;</span><br><span class="line">  console.log(a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>è¿˜å¯ä»¥é€‰æ‹©ä½¿ç”¨bableè½¬æ¢å™¨ let-erè¿™ä¸ªè½¬æ¢å™¨ç„¶åå¼€å¯ è¿™ä¸ªè®¾ç½®é¡¹ ã€‚è¿™æ ·å°±å¯ä»¥ç›´æ¥ä½¿ç”¨äº†ã€‚</p>
<h2 id="å…³äºthis"><a href="#å…³äºthis" class="headerlink" title="å…³äºthis"></a>å…³äºthis</h2><p>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨thisï¼Ÿ thisæä¾›äº†ä¸€ç§æ›´ä¼˜é›…çš„æ–¹å¼æ¥éšå¼çš„ä¼ é€’å¯¹è±¡å¼•ç”¨ï¼Œå› æ­¤å¯ä»¥å°†APIè®¾è®¡çš„æ›´åŠ ç®€æ´å¹¶ä¸”æ˜“äºå¤ç”¨ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">function foo(num) &#123;</span><br><span class="line">  console.log(&quot;foo:&quot; + num);</span><br><span class="line">  this.count++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo.count = 0;</span><br><span class="line"></span><br><span class="line">var i;</span><br><span class="line"></span><br><span class="line">for(i = 0; i &lt; 10; i++) &#123;</span><br><span class="line">  if(i &gt; 5) &#123;</span><br><span class="line">    foo(i);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//foo: 6</span><br><span class="line">//foo: 7</span><br><span class="line">//foo: 8</span><br><span class="line">//foo: 9</span><br><span class="line"></span><br><span class="line">console.log(foo.count); // 0</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œçš„thiså¹¶æ²¡æœ‰æŒ‡å‘è‡ªèº«ï¼Œ fooè¢«å½“ä½œæ–¹æ³•è°ƒç”¨æ—¶ï¼Œthisä»£è¡¨çš„æ˜¯å‡½æ•°çš„æ¥æ”¶è€…ã€‚ è¿™é‡Œéä¸¥æ ¼æ¨¡å¼ä¸‹æŒ‡å‘çš„æ˜¯å…¨å±€å¯¹è±¡ï¼Œç„¶è€Œå…¨å±€å¯¹è±¡è¿›è¡Œ++è¿ç®—ç»“æœæ˜¯NaNï¼Œfoo.countä½œä¸ºfooè¿™ä¸ªå‡½æ•°å¯¹è±¡çš„ä¸€ä¸ªå±æ€§ä»æ¥æ²¡æœ‰æ”¹å˜è¿‡ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥è¿™æ ·æ¥æ”¹è¿›x</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">function foo(num) &#123;</span><br><span class="line">  console.log(&quot;foo:&quot; + num);</span><br><span class="line">  data.count++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var data = &#123;</span><br><span class="line">  count: 0;</span><br><span class="line">&#125;</span><br><span class="line">var i;</span><br><span class="line"></span><br><span class="line">for(i = 0; i &lt; 10; i++) &#123;</span><br><span class="line">  if(i &gt; 5) &#123;</span><br><span class="line">    foo(i);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//foo: 6</span><br><span class="line">//foo: 7</span><br><span class="line">//foo: 8</span><br><span class="line">//foo: 9</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">console.log(foo.count); // 4</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¿™æ ·è²Œä¼¼è§£å†³äº†é—®é¢˜ï¼Œä½†æ˜¯å¿½ç•¥äº†çœŸæ­£çš„é—®é¢˜ï¼Œæ— æ³•ç†è§£thisçš„å«ä¹‰å’Œå·¥ä½œåŸç†è€Œæ˜¯è¿”å›äº†èˆ’é€‚åŒºã€‚</p>
<p>å¦ä¸€ç§ç»“å±€æ–¹æ¡ˆæ˜¯ä½¿ç”¨fooæ ‡è¯†ç¬¦æ¥æ›¿ä»£thiså¼•ç”¨å‡½æ•°å¯¹è±¡ï¼Œä½†æ˜¯åŒæ ·å›é¿äº†thisçš„é—®é¢˜ï¼Œå¹¶ä¸”å®Œå…¨ä¾èµ–äºå˜é‡fooçš„è¯æ³•ä½œç”¨åŸŸ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">function foo(num) &#123;</span><br><span class="line">  console.log(&quot;foo:&quot; + num);</span><br><span class="line">  foo.count++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo.count = 0;</span><br><span class="line"></span><br><span class="line">var i;</span><br><span class="line"></span><br><span class="line">for(i = 0; i &lt; 10; i++) &#123;</span><br><span class="line">  if(i &gt; 5) &#123;</span><br><span class="line">    foo(i);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//foo: 6</span><br><span class="line">//foo: 7</span><br><span class="line">//foo: 8</span><br><span class="line">//foo: 9</span><br><span class="line"></span><br><span class="line">console.log(foo.count); // 4</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥å¼ºåˆ¶ä½¿ç”¨thisæ‰§è¡Œfooå‡½æ•°å¯¹è±¡</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">function foo(num) &#123;</span><br><span class="line">  console.log(&quot;foo:&quot; + num);</span><br><span class="line">  data.count++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var data = &#123;</span><br><span class="line">  count: 0;</span><br><span class="line">&#125;</span><br><span class="line">var i;</span><br><span class="line"></span><br><span class="line">for(i = 0; i &lt; 10; i++) &#123;</span><br><span class="line">  if(i &gt; 5) &#123;</span><br><span class="line">    foo.call(foo,i);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//foo: 6</span><br><span class="line">//foo: 7</span><br><span class="line">//foo: 8</span><br><span class="line">//foo: 9</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">console.log(foo.count); // 4</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="thisçš„ç»‘å®šè§„åˆ™"><a href="#thisçš„ç»‘å®šè§„åˆ™" class="headerlink" title="thisçš„ç»‘å®šè§„åˆ™"></a>thisçš„ç»‘å®šè§„åˆ™</h2><h3 id="é»˜è®¤ç»‘å®š"><a href="#é»˜è®¤ç»‘å®š" class="headerlink" title="é»˜è®¤ç»‘å®š"></a>é»˜è®¤ç»‘å®š</h3><p>è¿™æ˜¯æœ€å¸¸ç”¨çš„å‡½æ•°è°ƒç”¨ç±»å‹ï¼Œç‹¬ç«‹å‡½æ•°è°ƒç”¨ã€‚ è¿™ç§æƒ…å†µthisé»˜è®¤æŒ‡å‘äº†å…¨å±€å¯¹è±¡</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function foo() &#123;</span><br><span class="line">  console.log(this.a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var a = 2;</span><br><span class="line"></span><br><span class="line">foo(); // 2</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="éšå¼ç»‘å®š"><a href="#éšå¼ç»‘å®š" class="headerlink" title="éšå¼ç»‘å®š"></a>éšå¼ç»‘å®š</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function foo() &#123;</span><br><span class="line">  console.log(this.a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var obj = &#123;</span><br><span class="line">  a: 2,</span><br><span class="line">  foo: foo</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj.foo(); // 2</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>è¿™ç§æ–¹å¼åŠ ä¸Šäº†å¯¹äºobjå¯¹è±¡çš„å¼•ç”¨ï¼Œæ‹¥æœ‰äº†ä¸Šä¸‹æ–‡ï¼Œå½“å‡½æ•°å¼•ç”¨æœ‰ä¸Šä¸‹æ–‡å¯¹è±¡æ—¶ï¼Œéšå¼ç»‘å®šè§„åˆ™ä¼šæŠŠå‡½æ•°è°ƒç”¨ä¸­çš„thisç»‘å®šåˆ°è¿™ä¸ªä¸Šç»†çº¹å¯¹è±¡ã€‚</p>
<p>å¯¹è±¡å±æ€§çš„å¼•ç”¨é“¾åªæœ‰ä¸Šä¸€å±‚æˆ–è€…è¯´æœ€åä¸€å±‚åœ¨è°ƒç”¨ä½ç½®ä¸­èµ·ä½œç”¨ã€‚ä¸¾ä¾‹æ¥è¯´ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">function foo() &#123;</span><br><span class="line">  console.log(this.a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var obj2 = &#123;</span><br><span class="line">  a: 42,</span><br><span class="line">  foo: foo</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var obj1 = &#123;</span><br><span class="line">  a: 2,</span><br><span class="line">  obj2: obj2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">obj1.obj2.foo(); // 42  æœ€åä¸€ä¸ªobj2èµ·ä½œç”¨</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä¸€ä¸ªæœ€å¸¸è§çš„thiså¯¹è±¡ç»‘å®šé—®é¢˜å°±æ˜¯éšå¼ç»‘å®šçš„å‡½æ•°ä¼šä¸¢å¤±ç»‘å®šå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä¼šåº”ç”¨é»˜è®¤ç»‘å®šï¼Œä»è€Œå§thisç»‘å®šåˆ°å…¨å±€å¯¹è±¡æˆ–ç€<code>undefined</code>è¿™å–å†³äºæ˜¯å¦æ˜¯ä¸¥æ ¼æ¨¡å¼</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">function foo() &#123;</span><br><span class="line">  console.log(this.a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var obj = &#123;</span><br><span class="line">  a: 2,</span><br><span class="line">  foo: foo</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">var bar = obj.foo;</span><br><span class="line"></span><br><span class="line">var a = &quot;oops, global&quot;;</span><br><span class="line"></span><br><span class="line">bar(); // oops, global</span><br></pre></td></tr></table></figure>
<p>è¿˜æœ‰ä¸€ç§ï¼Œå‚æ•°ä¼ é€’ä¹Ÿæ˜¯ä¸€ç§éšå¼èµ‹å€¼ï¼Œå› æ­¤æˆ‘ä»¬ç©¿æ—¥å‡½æ•°æ—¶ä¹Ÿä¼šè¢«éšå¼èµ‹å€¼</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">function foo() &#123;</span><br><span class="line">  console.log(this.a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function doFoo(fn) &#123;</span><br><span class="line">  fn();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var obj = &#123;</span><br><span class="line">  a: 2,</span><br><span class="line">  foo: foo</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">var bar = obj.foo;</span><br><span class="line"></span><br><span class="line">var a = &quot;oops, global&quot;;</span><br><span class="line"></span><br><span class="line">doFoo(obj.foo); // oops, global</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>åŒç†å¦‚æœå‘setTimeoutä¸­ä¼ é€’å‡½æ•°å¯¹è±¡ï¼ŒåŒæ ·ä¼šä¸¢å¤±thisã€‚</p>
<h3 id="æ˜¾ç¤ºç»‘å®š"><a href="#æ˜¾ç¤ºç»‘å®š" class="headerlink" title="æ˜¾ç¤ºç»‘å®š"></a>æ˜¾ç¤ºç»‘å®š</h3><p>æ˜¾ç¤ºç»‘å®šé€šå¸¸ä½¿ç”¨ <code>call</code>ã€<code>apply</code>ã€<code>bind</code>ï¼Œè¿™äº›æ–¹å¼æ¥å®ç°ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">function foo() &#123;</span><br><span class="line">  console.log(this.a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var obj = &#123;</span><br><span class="line">  a: 2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo.call(obj);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>foo.call(â€¦)ï¼Œ æˆ‘ä»¬å¯ä»¥è°ƒç”¨fooæ—¶å¼ºåˆ¶æŠŠå®ƒçš„thisç»‘å®šåˆ°objä¸Šã€‚</p>
<p>å¯æƒœçš„æ˜¯æ˜¾ç¤ºç»‘å®šä»ç„¶æ— æ³•è§£å†³æˆ‘ä»¬ä¹‹å‰æå‡ºçš„ä¸¢å¤±ç»‘å®šçš„é—®é¢˜ã€‚ä½†æ˜¯æ˜¾ç¤ºç»‘å®šçš„ä¸€ä¸ªå˜ç§å¯ä»¥å¸®æˆ‘ä»¬è§£å†³ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">function foo() &#123;</span><br><span class="line">  console.log(this.a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var obj = &#123;</span><br><span class="line">  a: 2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var bar = function() &#123;</span><br><span class="line">  foo.call(obj);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">bar(); // 2</span><br><span class="line"></span><br><span class="line">setTimeout(bar, 100); // 2</span><br><span class="line"></span><br><span class="line">bar.call(window); // 2</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ç¡¬ç»‘å®šçš„å…¸å‹åº”ç”¨åœºæ™¯å°±æ˜¯åˆ›å»ºä¸€ä¸ªåŒ…è£¹å‡½æ•°ï¼Œè´Ÿè´£æ¥æ”¶å‚æ•°å¹¶è¿”å›å€¼</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">function foo(something) &#123;</span><br><span class="line">  console.log(this.a, something);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var obj = &#123;</span><br><span class="line">  a: 2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var bar = function() &#123;</span><br><span class="line">  return foo.apply(obj, arguments);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">var b = bar(3); // 2, 3</span><br><span class="line"></span><br><span class="line">console.log(b);  // 5</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å¦ä¸€ç§ä½¿ç”¨æ–¹æ³•æ˜¯åˆ›å»ºä¸€ä¸ªå¯ä»¥é‡å¤ä½¿ç”¨çš„è¾…åŠ©å‡½æ•°</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">function foo(something) &#123;</span><br><span class="line">  console.log(this.a);</span><br><span class="line">  return this.a + something;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function bind(fn, obj) &#123;</span><br><span class="line">  return function() &#123;</span><br><span class="line">    fn.apply(obj, arguments);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">var obj = &#123;</span><br><span class="line">  a: 2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var bar = bind(foo, obj);</span><br><span class="line"></span><br><span class="line">var b = bar(3); // 2 3</span><br><span class="line"></span><br><span class="line">console.log(b); // 5</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ç”±äºç¡¬ç»‘å®šæ˜¯ä¸€ç§éå¸¸å¸¸ç”¨çš„æ¨¡å¼ï¼Œæ‰€ä»¥ES5æä¾›äº†å†…ç½®çš„æ–¹æ³•<code>Function.ptototype.bind</code>ï¼Œå®ƒçš„ç”¨æ³•å¦‚ä¸‹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">function foo(something) &#123;</span><br><span class="line">  console.log(this.a);</span><br><span class="line">  return this.a + something;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">var obj = &#123;</span><br><span class="line">  a: 2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var bar = foo.bind(obj);</span><br><span class="line"></span><br><span class="line">var b = bar(3); // 2 3</span><br><span class="line"></span><br><span class="line">console.log(b); // 5</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="newç»‘å®š"><a href="#newç»‘å®š" class="headerlink" title="newç»‘å®š"></a>newç»‘å®š</h3><p>è™½ç„¶JavaScriptä¸­ä¹Ÿæœ‰newæ“ä½œç¬¦ï¼Œä½¿ç”¨æ–¹æ³•çœ‹èµ·æ¥è·Ÿé‚£äº›é¢å‘ç±»çš„è¯­è¨€æ„ä¹‰ï¼Œç»å¤§å¤šæ•°å¼€å‘è€…éƒ½è®¤ä¸ºJavaScriptä¸­çš„newçš„æœºåˆ¶ä¹Ÿè·Ÿé‚£äº›è¯­è¨€ä¸€æ ·ï¼Œç„¶è€ŒJavaScriptä¸­çš„newæœºåˆ¶å®é™…ä¸Šè·Ÿé¢å‘ç±»çš„è¯­è¨€å®Œå…¨ä¸åŒã€‚</p>
<ul>
<li>æ„é€ å‡½æ•° é¦–å…ˆJavaScriptä¸­çš„æ„é€ å‡½æ•°åªæ˜¯ä½¿ç”¨newæ“ä½œç¬¦è°ƒç”¨çš„å‡½æ•°ï¼Œå®ƒä»¬å¹¶ä¸ä¼šå±äºæŸä¸ªç±»ï¼Œä¹Ÿä¸ä¼šå®ä¾‹åŒ–ä¸€ä¸ªç±»ï¼Œå®é™…ä¸Šå®ƒä»¬ç”šè‡³ä¸èƒ½è¯´æ˜¯ä¸€ç§ç‰¹æ®Šçš„å‡½æ•°ç±»å‹ï¼Œå®ƒä»¬åªæ˜¯è¢«newæ“ä½œç¬¦è°ƒç”¨çš„æ™®é€šå‡½æ•°è€Œå·²ã€‚ å‡½æ•°è¢«ä½¿ç”¨newæ“ä½œç¬¦è°ƒç”¨æˆä¸ºæ„é€ å‡½æ•°è°ƒç”¨ï¼Œå®é™…ä¸Šä¸å­˜åœ¨æ‰€è°“çš„æ„é€ å‡½æ•°ï¼Œåªæœ‰å¯¹äºå‡½æ•°çš„æ„é€ è°ƒç”¨ã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function foo() &#123;</span><br><span class="line">  this.a = a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var bar = new foo(2);</span><br><span class="line"></span><br><span class="line">console.log(bar.a); // 2</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬åˆ›é€ äº†ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œå¹¶æŠŠå®ƒç»‘å®šåˆ°fooè°ƒç”¨ä¸­çš„thisä¸Šã€‚</p>
<h2 id="ä¼˜å…ˆçº§"><a href="#ä¼˜å…ˆçº§" class="headerlink" title="ä¼˜å…ˆçº§"></a>ä¼˜å…ˆçº§</h2><p>æ˜¾ç¤ºç»‘å®šæ¯”éšå¼ç»‘å®šä¼˜å…ˆçº§è¦é«˜ï¼Œ newç»‘å®šæ¯”éšå¼ç»‘å®šä¼˜å…ˆçº§è¦é«˜ï¼Œ ä½†æ˜¯newç»‘å®šä¼šå¾—åˆ°ä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚</p>
<h2 id="åˆ¤æ–­this"><a href="#åˆ¤æ–­this" class="headerlink" title="åˆ¤æ–­this"></a>åˆ¤æ–­this</h2><ul>
<li><p>å‡½æ•°æ˜¯å¦åœ¨newä¸­è°ƒç”¨ï¼Œ å¦‚æœæ˜¯çš„è¯thisç»‘å®šçš„æ˜¯æ–°åˆ›å»ºçš„å¯¹è±¡ã€‚</p>
</li>
<li><p>å‡½æ•°æ˜¯å¦é€šè¿‡<code>call</code>ï¼Œ<code>apply</code>,æˆ–è€…ç¡¬ç»‘å®šè°ƒç”¨ï¼Œå¦‚æœæ˜¯çš„è¯thisæ˜¯æŒ‡å®šçš„å¯¹è±¡</p>
</li>
<li><p>å‡½æ•°æ˜¯å¦åœ¨æŸä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ä¸­ï¼ˆéšå¼ç»‘å®šï¼‰å¦‚æœæ˜¯çš„è¯ï¼Œthisç»‘å®šçš„æ˜¯ä¸Šä¸‹æ–‡å¯¹è±¡ã€‚</p>
</li>
<li><p>å¦‚æœéƒ½ä¸æ˜¯çš„è¯ï¼Œä½¿ç”¨é»˜è®¤ç»‘å®šã€‚å¦‚æœåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ç»‘å®šåˆ°undefinedï¼Œ å¦åˆ™ç»‘å®šåˆ°å…¨å±€å¯¹è±¡ã€‚</p>
</li>
</ul>
<h2 id="è¢«å¿½ç•¥çš„this"><a href="#è¢«å¿½ç•¥çš„this" class="headerlink" title="è¢«å¿½ç•¥çš„this"></a>è¢«å¿½ç•¥çš„this</h2><p>å¦‚æœä½ æŠŠnullæˆ–undefinedä½œä¸ºthisç»‘å®šå¯¹è±¡ä¼ å…¥callï¼Œapplyæˆ–è€…bindï¼Œè¿™äº›å€¼ä¼šåœ¨è°ƒç”¨æ—¶è¢«å¿½ç•¥ï¼Œå®é™…åº”ç”¨çš„æ˜¯é»˜è®¤ç»‘å®šè§„åˆ™</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">function foo() &#123;</span><br><span class="line">  console.log(this.a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var a = 2;</span><br><span class="line"></span><br><span class="line">foo.call(null); // 2</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨nullå¿½ç•¥thiså¯èƒ½äº§ç”Ÿä¸€äº›å‰¯ä½œç”¨ï¼Œå¦‚æœæŸä¸ªå‡½æ•°ç¡®å®ä½¿ç”¨äº†thisï¼ˆæ¯”å¦‚ç¬¬ä¸‰æ–¹åº“çš„ä¸€ä¸ªå‡½æ•°ï¼‰ï¼Œ é‚£é»˜è®¤ç»‘å®šè§„åˆ™ä¼šæŠŠthisç»‘å®šåˆ°å…¨å±€å¯¹è±¡ã€‚è¿™å°†å¯¼è‡´ä¸å¯é¢„è®¡çš„åæœã€‚<br>æ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªæ›´å®‰å…¨çš„ç©ºå¯¹è±¡<br>åœ¨JavaScriptä¸­åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡æœ€ç®€å•çš„æ–¹æ³•æ˜¯Obejct.create(null), å®ƒå’Œ{}å¾ˆåƒï¼Œä½†æ˜¯ä¸ä¼šåˆ›å»ºObject.ptototypeï¼Œæ‰€ä»¥å®ƒæ¯”{}æ›´ç©º</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">option + o</span><br><span class="line">var Ã¸ = Object.create(null);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="é—´æ¥å¼•ç”¨"><a href="#é—´æ¥å¼•ç”¨" class="headerlink" title="é—´æ¥å¼•ç”¨"></a>é—´æ¥å¼•ç”¨</h2><p>è¿˜æœ‰ä¸€ä¸ªéœ€è¦æ³¨æ„çš„æƒ…å†µä½ å¯èƒ½åˆ›å»ºä¸€ä¸ªå‡½æ•°çš„é—´æ¥å¼•ç”¨ï¼Œè°ƒç”¨è¿™ä¸ªå‡½æ•°ä¼šåº”ç”¨é»˜è®¤ç»‘å®šè§„åˆ™</p>
<p>é—´æ¥å¼•ç”¨æœ€å®¹æ˜“åœ¨èµ‹å€¼æ—¶å‘ç”Ÿ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">function foo() &#123;</span><br><span class="line">  console.log(this.a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var a = 2;</span><br><span class="line"></span><br><span class="line">var o = &#123;</span><br><span class="line">  a: 3,</span><br><span class="line">  foo: foo</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var p = &#123;</span><br><span class="line">  a: 4</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">o.foo(); // 3</span><br><span class="line"></span><br><span class="line">(p.foo = o.foo)(); // 2</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>èµ‹å€¼è¡¨è¾¾å¼p.foo = o.fooçš„è¿”å›å€¼æ˜¯ç›®æ ‡å‡½æ•°çš„å¼•ç”¨ï¼Œå› æ­¤è°ƒç”¨ä½ç½®æ˜¯foo() è€Œä¸æ˜¯p.foo()æˆ–è€…o.foo();</p>
<h2 id="thisè¯æ³•"><a href="#thisè¯æ³•" class="headerlink" title="thisè¯æ³•"></a>thisè¯æ³•</h2><p><code>self = this</code>å’Œç®­å¤´å‡½æ•°çœ‹èµ·æ¥éƒ½å¯ä»¥å–ä»£bindä½†æœ¬è´¨ä¸Šæƒ³å–ä»£çš„æ˜¯thisæœºåˆ¶ã€‚å¦‚æœä½ ç»å¸¸ç¼–å†™thisé£æ ¼çš„ä»£ç ï¼Œä½†æ˜¯ç»å¤§éƒ¨ä»½éƒ½ä¼šæ˜¯ç”¨self = this,æˆ–è€…ç®­å¤´å‡½æ•°ï¼Œé‚£ä¹ˆä½ æˆ–è®¸åº”è¯¥</p>
<ul>
<li>åªä½¿ç”¨æ­¤æ³•ä½œç”¨åŸŸå¹¶ä¸”å®Œå…¨æŠ›å¼ƒé”™è¯¯thisé£æ ¼ä»£ç ;</li>
<li>å®Œå…¨é‡‡ç”¨thisé£æ ¼ï¼Œåœ¨å¿…è¦æ—¶ä½¿ç”¨bindï¼Œé¿å…ä½¿ç”¨self = this å’Œ ç®­å¤´å‡½æ•°ã€‚</li>
</ul>
<h2 id="å¯¹è±¡"><a href="#å¯¹è±¡" class="headerlink" title="å¯¹è±¡"></a>å¯¹è±¡</h2><p>åœ¨å¯¹è±¡ä¸­ï¼Œå±æ€§åæ°¸è¿œéƒ½æ˜¯å­—ç¬¦ä¸²ã€‚ä½¿ç”¨éStringä½œä¸ºå±æ€§åå®ƒé¦–å…ˆä¼šè¢«è½¬æˆä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">var myObject = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">myObject[true] = &quot;foo&quot;;</span><br><span class="line">myObject[3] = &quot;bar&quot;;</span><br><span class="line">myObject[myObject] = &quot;baz&quot;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">myObject[&quot;true&quot;] = &quot;foo&quot;;</span><br><span class="line">myObject[&quot;3&quot;] = &quot;bar&quot;;</span><br><span class="line">myObject[&quot;[object OBject]&quot;] = &quot;baz&quot;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="å¯¹è±¡å¤åˆ¶"><a href="#å¯¹è±¡å¤åˆ¶" class="headerlink" title="å¯¹è±¡å¤åˆ¶"></a>å¯¹è±¡å¤åˆ¶</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">æµ…å¤åˆ¶</span><br><span class="line">var newObj = Object.assign(&#123;&#125;, myObject);</span><br><span class="line"></span><br><span class="line">æ·±å¤åˆ¶</span><br><span class="line">å¯¹äºJSONå®‰å…¨çš„å¯¹è±¡æ¥è¯´æœ‰ä¸€ç§å·§å¦™çš„å¤åˆ¶æ–¹æ³•</span><br><span class="line"></span><br><span class="line">var newObj = JSON.parse(JSON.stringify(someObj));</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="å±æ€§æè¿°ç¬¦"><a href="#å±æ€§æè¿°ç¬¦" class="headerlink" title="å±æ€§æè¿°ç¬¦"></a>å±æ€§æè¿°ç¬¦</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var myObject = &#123;</span><br><span class="line">  a: 2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Object.getOwnPropertyDescriptor(myObject, &quot;a&quot;);</span><br><span class="line"></span><br><span class="line">// &#123;value: 2, writable: true, enumerable: true, configurable: true&#125;</span><br><span class="line"></span><br><span class="line">å¦‚æœconfigurable: false, åˆ™ä¸å¯ä»¥å†é…ç½®ï¼Œä¹Ÿä¸å¯ä»¥è¢«åˆ é™¤</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="å¯¹è±¡å¸¸é‡"><a href="#å¯¹è±¡å¸¸é‡" class="headerlink" title="å¯¹è±¡å¸¸é‡"></a>å¯¹è±¡å¸¸é‡</h3><p>ç»“åˆwritable: false å’Œconfigurable: falseå°±å¯ä»¥åˆ›å»ºä¸€ä¸ªçœŸæ­£çš„å¸¸é‡å±æ€§(ä¸å¯ä»¥é‡æ–°å®šä¹‰ï¼Œä¿®æ”¹ï¼Œåˆ é™¤)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var myObject = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">Object.defineProterty(myObject, &quot;FAVORITE_NUMBER&quot;, &#123;</span><br><span class="line">  value: 42,</span><br><span class="line">  writable: false,</span><br><span class="line">  configurable: false </span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="ç¦æ­¢æ‰©å±•"><a href="#ç¦æ­¢æ‰©å±•" class="headerlink" title="ç¦æ­¢æ‰©å±•"></a>ç¦æ­¢æ‰©å±•</h3><p>å¦‚æœä½ æƒ³ç¦æ­¢ä¸€ä¸ªå¯¹è±¡æ·»åŠ æ–°å±æ€§å¹¶ä¸”ä¿ç•™å·²æœ‰å±æ€§ï¼Œå¯ä»¥ä½¿ç”¨Object.preventExtensions(â€¦)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var myObject = &#123;</span><br><span class="line">  a: 2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Object.preventExtensions(myObject);</span><br><span class="line"></span><br><span class="line">myObject.b = 3;</span><br><span class="line"></span><br><span class="line">myObject.b; // undefined</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>åœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œåˆ›å»ºå±æ€§bä¼šé™é»˜å¤±è´¥ï¼Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå°†ä¼šæŠ›å‡ºTyperErroré”™è¯¯ã€‚</p>
<h3 id="å¯†å°"><a href="#å¯†å°" class="headerlink" title="å¯†å°"></a>å¯†å°</h3><p>Object.seal(â€¦)ä¼šåˆ›å»ºä¸€ä¸ªâ€å¯†å°â€å¯¹è±¡ï¼Œè¿™ä¸ªæ–¹æ³•å®é™…ä¼šåœ¨ä¸€ä¸ªç°æœ‰å¯¹è±¡ä¸Šè°ƒç”¨Object.preventExtensionså¹¶æŠŠæ‰€æœ‰ç°æœ‰å±æ€§æ ‡è®°ä¸ºconfigurable: false.<br>æ‰€æœ‰å¯†å°åä¸èƒ½æ·»åŠ æ–°å±æ€§ï¼Œä¹Ÿä¸èƒ½é‡æ–°é…ç½®å’Œåˆ é™¤ä»»ä½•ç°æœ‰å±æ€§(è™½ç„¶å¯ä»¥ä¿®æ”¹å±æ€§çš„å€¼)</p>
<h3 id="å†»ç»“"><a href="#å†»ç»“" class="headerlink" title="å†»ç»“"></a>å†»ç»“</h3><p><code>Object.freeze(...)</code>ï¼Œä¼šåˆ›å»ºä¸€ä¸ªå†»ç»“å¯¹è±¡ï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯åœ¨ç°æœ‰å¯¹è±¡è°ƒç”¨äº†<code>Object.seal</code>å¹¶æŠŠæ‰€æœ‰æ•°æ®è®¿é—®å±æ€§æ ‡è®°ä¸º writable: false, è¿™æ ·å°±æ— æ³•ä¿®æ”¹å®ƒä»¬çš„å€¼</p>
<h3 id="Getterå’ŒSetter"><a href="#Getterå’ŒSetter" class="headerlink" title="Getterå’ŒSetter"></a>Getterå’ŒSetter</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">var myObject = &#123;</span><br><span class="line">  get a() &#123;</span><br><span class="line">    return 2;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Object.defineProperty(myObject, &quot;b&quot;, &#123;</span><br><span class="line">  get: function() &#123;</span><br><span class="line">    return this.a * 2;</span><br><span class="line">  &#125;,</span><br><span class="line">  enumerable: true  </span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>é€šå¸¸getå’Œsetæ˜¯æˆå¯¹å‡ºç°çš„ï¼Œåªå®šä¹‰ä¸€ä¸ªçš„è¯é€šå¸¸ä¼šäº§ç”Ÿæ„æ–™ä¹‹å¤–çš„è¡Œä¸ºã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">var myObject = &#123;</span><br><span class="line">  get a() &#123;</span><br><span class="line">    return this._a_;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  set a(val) &#123;</span><br><span class="line">    return this._a_ = val * 2;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">myObject.a = 2;</span><br><span class="line"></span><br><span class="line">myObject.a; // 4</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="å­˜åœ¨æ€§"><a href="#å­˜åœ¨æ€§" class="headerlink" title="å­˜åœ¨æ€§"></a>å­˜åœ¨æ€§</h3><p>å‰é¢è¯´è¿‡ å¦‚æœæœ¬èº«å¯¹è±¡ä¸­æœ‰å€¼ä¸ºundefiendçš„å±æ€§obj.a, å»è·å–è¯¥å€¼å¾—åˆ°çš„ç»“æœè·Ÿå»è·å–ä¸€ä¸ªä¸å­˜åœ¨çš„å±æ€§ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œæ¯”å¦‚obj.bï¼Œ é‚£ä¹ˆå¦‚æœåˆ¤æ–­ä¸€ä¸ªå±æ€§åœ¨å¯¹è±¡ä¸­æ˜¯å¦å­˜åœ¨å‘¢</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">var myObject = &#123;</span><br><span class="line">  a: 2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">(a in myObject); // true</span><br><span class="line">(b in myObject); // false</span><br><span class="line"></span><br><span class="line">myObject.hasOwnProperty(&quot;a&quot;); // true</span><br><span class="line">myObject.hasOwnProperty(&quot;b&quot;); // false</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>inæ“ä½œç¬¦ä¼šæ£€æŸ¥å±æ€§æ˜¯å¦å­˜åœ¨å¯¹è±¡åŠå…¶[[prototype]]åŸå‹ä¸­ï¼Œç›¸æ¯”ä¹‹ä¸‹hasOwnPropertyåªä¼šæ£€æŸ¥å±æ€§æ˜¯å¦å­˜åœ¨myObjectå¯¹è±¡ä¸­ã€‚</p>
<p>è¦æ³¨æ„çš„æ˜¯inæ“ä½œç¬¦æ£€æŸ¥çš„æ˜¯å®¹å™¨å†…æ˜¯å¦æœ‰æŸä¸ªå€¼ï¼Œå®é™…ä¸Šæ£€æŸ¥çš„æ˜¯æŸä¸ªå±æ€§åæ˜¯å¦å­˜åœ¨ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">4 in [2, 4, 6]; // false</span><br><span class="line">è¿™ä¸ªæ•°ç»„åŒ…å«çš„å±æ€§åå…¶å®æ˜¯0 ï¼Œ1ï¼Œ2</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ˜¯å¦å¯é€šè¿‡forâ€¦inæ“ä½œç¬¦æ¥æšä¸¾å¯ä»¥é€šè¿‡å®šä¹‰å±æ€§æ˜¯è®¾å®š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">var myObject = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">Object.defineProperty(myObject, &quot;a&quot;, &#123;</span><br><span class="line">  enumerable: true, value: 2  </span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">Object.defineProperty(myObject, &quot;b&quot;, &#123;</span><br><span class="line">  enumerable: false, value: 3</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">myObject.b; //3</span><br><span class="line">&#123;&quot;b&quot; in myObject&#125;; //true</span><br><span class="line">myObject.hasOwnProperty(&quot;b&quot;); //true</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">for(var k in myObject) &#123;</span><br><span class="line">  console.log(k, myObject[k]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// &quot;a&quot; 2</span><br><span class="line"></span><br><span class="line">è¿˜å¯ä»¥é€šè¿‡å¦ä¸€ç§æ–¹å¼æ¥åŒºåˆ†å±æ€§æ˜¯å¦å¯æšä¸¾</span><br><span class="line"></span><br><span class="line">propertyIsEnumerable ä¼šæ£€æŸ¥å±æ€§æ˜¯å¦å­˜åœ¨äºå¯¹è±¡ä¸­(è€Œä¸æ˜¯åœ¨åŸå‹é“¾ä¸­)å¹¶ä¸”æ»¡è¶³enumerable: true</span><br><span class="line">Object.keysä¼šè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«æ‰€æœ‰å¯æšä¸¾å±æ€§</span><br><span class="line">Object.getOwnPropertyNames è¿”å›ä¸€ä¸ªæ•°ç»„åŒ…å«æ‰€æœ‰å±æ€§æ— è®ºæ˜¯å¦å¯æšä¸¾</span><br><span class="line"></span><br><span class="line">myObject.propertyIsEnumerable(&quot;a&quot;); // true</span><br><span class="line"></span><br><span class="line">myObject.propertyIsEnumerable(&quot;b&quot;); // false</span><br><span class="line"></span><br><span class="line">Object.keys(myObject); // [&quot;a&quot;]</span><br><span class="line"></span><br><span class="line">Object.getOwnPropertyNames(myObject); // [&quot;a&quot;, &quot;b&quot;]</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Object.keys å’ŒObject.getOwnPropertyNames éƒ½ä¸å›æŸ¥æ‰¾åŸå‹é“¾ï¼Œåªä¼šæŸ¥æ‰¾å¯¹è±¡ç›´æ¥åŒ…å«çš„å±æ€§</p>
<h3 id="éå†"><a href="#éå†" class="headerlink" title="éå†"></a>éå†</h3><p>æˆ‘ä»¬é€šå¸¸ä¼šé€šè¿‡<code>for...in</code>æ¥éå†ä¸€ä¸ªå¯¹è±¡ï¼Œä½†æ˜¯è¿™æ ·ä¾¿åˆ©å¯¹è±¡å±æ€§æ—¶çš„é¡ºåºæ˜¯ä¸ç¡®å®šçš„ï¼Œåœ¨ä¸åŒçš„JavaScriptå¼•æ“ä¸­å¯èƒ½ä¸ä¸€æ ·ï¼Œå› æ­¤åœ¨ä¸åŒçš„ç¯å¢ƒä¸­éœ€è¦ä¿æŒä¸€è‡´æ€§æ—¶ï¼Œä¸€å®šä¸è¦ç›¸ä¿¡ä»»ä½•è§‚å¯Ÿåˆ°é¡ºåºï¼Œå®ƒä»¬æ˜¯ä¸å¯é çš„<br>é‚£ä¹ˆå¦‚ä½•ç›´æ¥éå†å€¼è€Œä¸æ˜¯æ•°ç»„ä¸‹æ ‡å‘¢</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">var myArray = [1, 3, 5];</span><br><span class="line"></span><br><span class="line">for(var v of myArray) &#123;</span><br><span class="line">  console.log(v);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>å› ä¸ºæ•°ç»„æœ‰å†…ç½®çš„@iterator, å› æ­¤forâ€¦ofå¯ä»¥ç›´æ¥åº”ç”¨åˆ°æ•°ç»„ä¸Šã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å†…ç½®çš„@@iteratoræ¥æ‰‹åŠ¨éå†æ•°ç»„ï¼Œ ES6ä¸­æˆ‘ä»¬ä½¿ç”¨Symbol.iteratoræ¥è·å–å¯¹è±¡çš„@@iteratorå†…éƒ¨å±æ€§</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">var myArray = [1, 3, 5];</span><br><span class="line"></span><br><span class="line">var it = myArray[Symbol.iterator]();</span><br><span class="line"></span><br><span class="line">it.next();  // &#123;value: 1, done: false&#125;</span><br><span class="line"></span><br><span class="line">it.next();  // &#123;value: 3, done: false&#125;</span><br><span class="line"></span><br><span class="line">it.next();  // &#123;value: 5, done: false&#125;</span><br><span class="line"></span><br><span class="line">it.next();  // &#123;value: undefined, done: undefined&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>å’Œæ•°ç»„ä¸åŒæ™®é€šçš„å¯¹è±¡æ²¡æœ‰å†…ç½®çš„@@iterator,æ‰€ä»¥æ— æ³•è‡ªåŠ¨å®Œæˆforâ€¦oféå†ï¼Œä¹‹æ‰€ä»¥è¿™æ ·åšæœ‰è®¸å¤šéå¸¸å¤æ‚çš„åŸå› ï¼Œ ç®€å•æ¥è¯´ï¼Œè¿™æ ·åšæ˜¯ä¸ºäº†é¿å…å½±å“æœªæ¥çš„å¯¹è±¡ç±»å‹.</p>
<p>å½“ç„¶æˆ‘ä»¬å¯ä»¥ç»™ä»»ä½•æƒ³éå†çš„å¯¹è±¡å®šä¹‰@@iterator</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">var myObject = &#123;</span><br><span class="line">  a: 2,</span><br><span class="line">  b: 3</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Object.defineProperty(myObject, Symbol.iterator, &#123;</span><br><span class="line">  enumerable: false,</span><br><span class="line">  writable: false,</span><br><span class="line">  configurable: true,</span><br><span class="line">  value: function() &#123;</span><br><span class="line">    var o = this;</span><br><span class="line">    var idx = 0;</span><br><span class="line">    var ks = Object.keys(o);</span><br><span class="line"></span><br><span class="line">    return &#123;</span><br><span class="line">      next: function() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">          value: o[ks[idx++]];</span><br><span class="line">          done: (idx &gt; ks.length)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;  </span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">è¿™æ ·æ‰‹åŠ¨éå†</span><br><span class="line"></span><br><span class="line">var it = myObject[Symbol.iterator]();</span><br><span class="line">it.next(); // &#123;value:2, done: false&#125;</span><br><span class="line">it.next(); // &#123;value:3, done: false&#125;</span><br><span class="line">it.next(); // &#123;value: undefined, done: true&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">for(var v of myObject) &#123;</span><br><span class="line">  console.log(v);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h2 id="åŸå‹é£æ ¼ç»§æ‰¿"><a href="#åŸå‹é£æ ¼ç»§æ‰¿" class="headerlink" title="åŸå‹é£æ ¼ç»§æ‰¿"></a>åŸå‹é£æ ¼ç»§æ‰¿</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">function Foo(name) &#123;</span><br><span class="line">  this.name = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Foo.prototype.myName = function() &#123;</span><br><span class="line">  return this.name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function Bar(name, label) &#123;</span><br><span class="line">  Foo.call(this, name);</span><br><span class="line"></span><br><span class="line">  this.label = label;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Bar.prototype = Object.create(Foo.prototype);</span><br><span class="line">// è¿™é‡Œè¿˜å¯ä»¥ç”¨è¿™ç§å†™æ³•ï¼ŒES6 çš„ Object.setPrototypeOf  ä¸‹é¢çš„å†™æ³•æ›´å¥½ä¸€ç‚¹ï¼Œ å½“æ—¶ä¸Šé¢çš„å†™æ³•æ›´å®¹æ˜“ç†è§£</span><br><span class="line">Object.setPrototypeOf(Bar.prototype, Foo.prototype);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Bar.prototype.myLabel = function() &#123;</span><br><span class="line">  return this.label;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var a = new Bar(&quot;a&quot;, &quot;obj a&quot;);</span><br><span class="line"></span><br><span class="line">a.myName(); // &quot;a&quot;</span><br><span class="line"></span><br><span class="line">a.myLabel(); // &quot;obj a&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">è¯¥æ–¹æ³•æ¯”è¾ƒæœ‰ç”¨ï¼ŒFoo.prototypeæ˜¯å¦å‡ºç°åœ¨açš„[[prototype]]é“¾ä¸­</span><br><span class="line">Foo.prototype.isPrototypeOf(a);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="å§”æ‰˜"><a href="#å§”æ‰˜" class="headerlink" title="å§”æ‰˜"></a>å§”æ‰˜</h2><p>åŸºäºå§”æ‰˜å®ç°ä¸ä¸Šé¢ç›¸åŒåŠŸèƒ½çš„ä»£ç </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Foo = &#123;</span><br><span class="line">  init: function(who) &#123;</span><br><span class="line">    this.me = who;</span><br><span class="line">  &#125;,</span><br><span class="line">  identify: function() &#123;</span><br><span class="line">    return &quot;I am &quot; + this.name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Bar = Object.create(Foo);</span><br><span class="line"></span><br><span class="line">Bar.speak = function() &#123;</span><br><span class="line">  alert(&quot;Hello, &quot; + this.identify() + &quot; . &quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">var b1 = Object.create(Bar);</span><br><span class="line">b1.init(&quot;b1&quot;);</span><br><span class="line"></span><br><span class="line">var b2 = Object.create(Bar);</span><br><span class="line">b2.init(&quot;b2&quot;);</span><br><span class="line"></span><br><span class="line">b1.speak();</span><br><span class="line">b2.speak();</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡æ¯”è¾ƒå‘ç°ï¼Œ å¯¹è±¡å…³è”é£æ ¼çš„ä»£ç æ›´åŠ ç®€æ´ï¼Œå› ä¸ºè¿™ç§é£æ ¼çš„ä»£ç åªå…³æ³¨ä¸€ä»¶äº‹ï¼Œ å¯¹è±¡ä¹‹é—´çš„å…³è”å…³ç³»ã€‚</p>
<h2 id="æ›´ç®€æ´çš„è®¾è®¡"><a href="#æ›´ç®€æ´çš„è®¾è®¡" class="headerlink" title="æ›´ç®€æ´çš„è®¾è®¡"></a>æ›´ç®€æ´çš„è®¾è®¡</h2><p>ä¸€ä¸ªå…³äºç™»é™†éªŒè¯å™¨çš„è®¾è®¡</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">function Controller() &#123;</span><br><span class="line">  this.errors= [];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Controller.prototype.showDialog = function(title, msg) &#123;</span><br><span class="line">  // æ˜¾ç¤ºç»™ç”¨æˆ·çš„æ¶ˆæ¯</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Controller.prototype.success = function(msg) &#123;</span><br><span class="line">  this.showDialog(&quot;success&quot;, msg);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Controller.prototype.failure = function(err) &#123;</span><br><span class="line">  this.errors.push(err);</span><br><span class="line"></span><br><span class="line">  this.showDialog(&quot;Error&quot;, err);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">function LoginController() &#123;</span><br><span class="line">  Controller.call(this);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">LoginController.prototype = Object.create(Controller.prototype);</span><br><span class="line"></span><br><span class="line">LoginController.prototype.getUser = function() &#123;</span><br><span class="line">  return document.getElementById(&quot;login_username&quot;).value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">LoginController.prototype.getPassword = function() &#123;</span><br><span class="line">  return document.getElementById(&quot;login_password&quot;).value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">LoginController.prototype.validateEntry = function(user, pw) &#123;</span><br><span class="line">  user = user || this.getUser();</span><br><span class="line">  pw = pw || this.getPassword();</span><br><span class="line"></span><br><span class="line">  if(!(user &amp;&amp; pw)) &#123;</span><br><span class="line">    return this.failure(&quot;Please enter a username &amp; password&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  else if(pw.length &lt; 5) &#123;</span><br><span class="line">    return this.failure(&quot;Password must be 5+ character!&quot;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  return true;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">LonginController.prototype.failure = function() &#123;</span><br><span class="line">  Controller.prototype.failure.call(this, &quot;Login invalid: &quot; + err);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">function AuthController(login) &#123;</span><br><span class="line">  Controller.call(this);</span><br><span class="line"></span><br><span class="line">  this.login = login;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">AuthController.prototype = Object.create(Controller.prototype);</span><br><span class="line"></span><br><span class="line">AuthController.prototype.server = function(url, data) &#123;</span><br><span class="line">  return $.ajax(&#123;</span><br><span class="line">    url: url,</span><br><span class="line">    data: data</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">AuthController.prototype.checkAuth = function() &#123;</span><br><span class="line">  var user = this.login.getUser();</span><br><span class="line">  var pw = this.login.getPassword();</span><br><span class="line"></span><br><span class="line">  if(this.login.validateEntry(user, pw)) &#123;</span><br><span class="line">    this.server(&quot;/check-auth&quot;, &#123;</span><br><span class="line">      user: user,</span><br><span class="line">      pw: pw</span><br><span class="line">    &#125;)</span><br><span class="line">    .then(this.success.bind(this));</span><br><span class="line">    .fail(this.failure.bind(this));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">AuthController.prototype.success = function() &#123;</span><br><span class="line">  Controller.prototype.success.call(this, &quot;Authenticated;&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">AuthController.prototype.failure = function(err) &#123;</span><br><span class="line">  Controller.prototype.failure.call(this, &quot;Auth failed: &quot; + err);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">var auth = new AuthController(new LoginController());</span><br><span class="line"></span><br><span class="line">auth.checkAuth();</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>åç±»ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¯¹è±¡å…³è”é£æ ¼çš„è¡Œä¸ºå§”æ‰˜æ¥å®ç°æ›´ç®€å•çš„è®¾è®¡</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">var LoginController = &#123;</span><br><span class="line">  errors: [],</span><br><span class="line">  getUser: function() &#123;</span><br><span class="line">    return document.getElementById(&quot;login_username&quot;).value;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  getPassword: function() &#123;</span><br><span class="line">    return document.getElementById(&quot;login_password&quot;).value;</span><br><span class="line">  &#125;,</span><br><span class="line">  validateEntry: function(user, pw) &#123;</span><br><span class="line">    user = user || this.getUser();</span><br><span class="line">    pw = pw || this.getPassword();</span><br><span class="line"></span><br><span class="line">    if(!(user &amp;&amp; pw)) &#123;</span><br><span class="line">      return this.failure(&quot;Please enter a username &amp; password&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    else if(pw.length &lt; 5) &#123;</span><br><span class="line">      return this.failure(&quot;Password must be 5+ character!&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return true;</span><br><span class="line">  &#125;,</span><br><span class="line">  showDialog: function() &#123;</span><br><span class="line">    // ç»™ç”¨æˆ·æ˜¾ç¤ºçš„æ¶ˆæ¯</span><br><span class="line">  &#125;,</span><br><span class="line">  failure: function() &#123;</span><br><span class="line">    this.errors.push(err);</span><br><span class="line">    this.showDialog(&quot;Error&quot;, &quot;Login invalid &quot; + err);</span><br><span class="line">  &#125;,</span><br><span class="line">  success: function(msg) &#123;</span><br><span class="line">    this.showDialog(&quot;success&quot;, msg);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">var AuthController = Object.create(LoginController);</span><br><span class="line"></span><br><span class="line">AuthController.errors = [];</span><br><span class="line"></span><br><span class="line">AuthController.checkAuth = function() &#123;</span><br><span class="line">  var user = this.getUser();</span><br><span class="line">  var pw = this.getPassword();</span><br><span class="line"></span><br><span class="line">  if(this.validateEntry(user, pw)) &#123;</span><br><span class="line">    this.server(&quot;/check-auth&quot;, &#123;</span><br><span class="line">      user: user,</span><br><span class="line">      pw: pw  </span><br><span class="line">    &#125;)</span><br><span class="line">    .then(this.accepted.bind(this))</span><br><span class="line">    .fail(this.rejected.bind(this));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">AuthController.server = function(url, data) &#123;</span><br><span class="line">  return $.ajax(&#123;</span><br><span class="line">    url: url,</span><br><span class="line">    data: data  </span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">AuthController.accepted = function() &#123;</span><br><span class="line">  this.showDialog(&quot;Success&quot;, &quot;Authenticated!&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">AuthController.rejected = function(err) &#123;</span><br><span class="line">  this.failure(&quot;Auth Failed: &quot; + err);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">AuthController.checkAuth();</span><br></pre></td></tr></table></figure>
<p>è¿™ç§æ¨¡å¼æˆ‘ä»¬åªéœ€è¦ä¸¤ä¸ªå®ä½“LoginController å’Œ AuthController<br>æ€»ç»“ï¼š æˆ‘ä»¬ç”¨ä¸€ç§æå…¶ç®€å•çš„è®¾è®¡å®ç°äº†åŒæ ·çš„åŠŸèƒ½ï¼Œ è¿™æ—¢æ˜¯å¯¹è±¡å…³è”é£æ ¼ä»£ç å’Œè¡Œä¸ºå§”æ‰˜è®¾è®¡æ¨¡å¼çš„åŠ›é‡</p>
<h2 id="åè¯æ³•"><a href="#åè¯æ³•" class="headerlink" title="åè¯æ³•"></a>åè¯æ³•</h2><p>ES6ç®€æ´ä¸æ³•æœ‰ä¸€ä¸ªéå¸¸å°ä½†é‡è¦çš„ç¼ºç‚¹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">var Foo = &#123;</span><br><span class="line">  bar() &#123;/**/&#125;,</span><br><span class="line">  baz: function baz() &#123;/**/&#125;  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å»æ‰è¯­æ³•ç³–</span><br><span class="line"></span><br><span class="line">var Foo = &#123;</span><br><span class="line">  bar: function() &#123;/**/&#125;</span><br><span class="line">  baz: function baz() &#123;/**/&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>ç”±äºå‡½æ•°å¯¹è±¡æœ¬èº«æ²¡æœ‰æ ‡è¯†ç¬¦ï¼Œ æ‰€ä»¥bar()çš„ç¼©å†™å½¢å¼å®é™…ä¸Šä¼šå˜æˆä¸€ä¸ªåŒ¿åå‡½æ•°è¡¨è¾¾å¼å¹¶èµ‹å€¼ç»™barå±æ€§ã€‚ç›¸æ¯”ä¹‹ä¸‹ å…·åå‡½æ•°è¡¨è¾¾å¼ä¼šé¢å¤–çš„ç»™.bazå±æ€§é™„åŠ ä¸€ä¸ªè¯æ³•åç§°æ ‡è¯†ç¬¦bazã€‚</p>
<p>åŒ¿åå‡½æ•°æ²¡æœ‰nameæ ‡è¯†ç¬¦ä¼šå¯¼è‡´</p>
<ul>
<li>è°ƒç”¨æ ˆæ›´éš¾è¿½è¸ª</li>
<li>è‡ªæˆ‘å¼•ç”¨ï¼ˆé€’å½’ï¼Œ äº‹ä»¶ç»‘å®šå’Œè§£é™¤ç»‘å®šï¼‰æ›´éš¾</li>
<li>ä»£ç ç¨å¾®éš¾ç†è§£</li>
</ul>
<p>è¿™é‡Œåªæœ‰ç¬¬äºŒä¸ªç¼ºç‚¹æ— æ³•é¿å…ï¼Œå› æ­¤ä½¿ç”¨ç®€æ´è¯­æ³•ä¸€å®šè¦å°å¿ƒè¿™ä¸€ç‚¹ã€‚ å¦‚æœä½ éœ€è¦è‡ªæˆ‘å¼•ç”¨çš„è¯ï¼Œé‚£æœ€å¥½ä½¿ç”¨ä¼ ç»Ÿçš„å…·åå‡½æ•°è¡¨è¾¾å¼æ¥å®šä¹‰å¯¹åº”çš„å‡½æ•°ï¼Œä¸è¦ä½¿ç”¨ç®€æ´è¯­æ³•ã€‚</p>
<blockquote>
<p>å†è¯´ä¸€æ¬¡ï¼Œæˆ‘ä»¬è®¤ä¸ºJavaScriptç§çš„å¯¹è±¡å…³è”æ¯”ç±»é£æ ¼ä»£ç æ›´ä¸ºç®€æ´(è€Œä¸”åŠŸèƒ½ç›¸åŒ)</p>
</blockquote>
</div><ul class="post-copyright"><li class="post-copyright-author"><strong>æœ¬æ–‡ä½œè€…ï¼š</strong>toshiba</li><li class="post-copyright-link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong><a href="https://sdongzhi.com/2018/10/08/read-book-you-known-up-one/" title="ä½ ä¸çŸ¥é“çš„JavaScriptä¸Šå·">https://sdongzhi.com/2018/10/08/read-book-you-known-up-one/</a></li><li class="post-copyright-license"><strong>ç‰ˆæƒå£°æ˜ï¼š</strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é»˜è®¤é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> è®¸å¯åè®®ã€‚</li></ul></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2018/10/18/read-book-you-known-middle-one/" rel="prev" title="ä½ ä¸çŸ¥é“çš„JavaScriptä¸­å·(ä¸€)"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">ä½ ä¸çŸ¥é“çš„JavaScriptä¸­å·(ä¸€)</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2018/09/28/read-book-effective-nine/" rel="next" title="Effective JavaScript (ä¹)"><span class="post-nav-text">Effective JavaScript (ä¹)</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>è‹¥æ‚¨æƒ³åŠæ—¶å¾—åˆ°å›å¤æé†’ï¼Œå»ºè®®è·³è½¬ GitHub Issues è¯„è®ºã€‚</span><br></div></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2017 â€“ 2021 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> å¤šå¼—æœ—æ˜å“¥</span></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="æœç´¢"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search-line"></use></svg></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script defer src="https://cdn.jsdelivr.net/npm/algoliasearch@4/dist/algoliasearch-lite.umd.js"></script><script defer src="https://cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js"></script><script defer src="/js/search/algolia-search.js"></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-close-line"></use></svg></span></div><div class="search-input-container"></div><div class="algolia-results"><div id="algolia-stats"></div><div id="algolia-hits"></div><div class="algolia-pagination" id="algolia-pagination"></div></div></div></div><!-- hexo injector body_end start --><script src="https://cdn.jsdelivr.net/npm/hexo-tag-common@latest/js/index.js"></script><!-- hexo injector body_end end --></body></html>